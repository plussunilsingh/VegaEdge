import{j as e}from"./ui-DF4qBJwL.js";import{r as s}from"./vendor-X0Zsz5kA.js";import{A as b}from"./AuthenticatedNavbar-B23ijhr0.js";import{a as y}from"./Footer-B3JFfJSI.js";import{B as c}from"./button-CR-0WL9x.js";import{I as D}from"./input-QZcsRmOs.js";import{h as S,j as i}from"./index-DuElUvNs.js";const k=()=>{const{user:n,profileImageUrl:m}=S(),[r,x]=s.useState("1"),[l,g]=s.useState(new Date().toISOString().split("T")[0]),[p,j]=s.useState(""),[u,f]=s.useState(""),[N,v]=s.useState(""),o=()=>{const a=Math.random();fetch(i.chart.getChartData(r,a,l)).then(t=>t.text()).then(t=>j(t)).catch(t=>console.error("Error fetching chart:",t))},d=()=>{const a=Math.random();fetch(i.chart.getTableData(r,a,l)).then(t=>t.text()).then(t=>f(t)).catch(t=>console.error("Error fetching table:",t))},h=()=>{const a=Math.random();fetch(i.chart.getLatestData(r,a,l)).then(t=>t.text()).then(t=>v(t)).catch(t=>console.error("Error fetching latest:",t))};return s.useEffect(()=>{o(),d(),h();const a=setInterval(()=>{o(),d(),h()},6e4);return()=>clearInterval(a)},[r,l]),e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(b,{}),e.jsx("main",{className:"flex-1 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:m||"/img/user.jpg",alt:"Profile",className:"w-20 h-20 rounded-full object-cover",loading:"lazy",decoding:"async",fetchPriority:"low",onError:a=>{const t=a.currentTarget;t.src.includes("/img/user.jpg")||(t.src="/img/user.jpg")}}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-bold text-lg",children:["Welcome ",n==null?void 0:n.name]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Earn 1500 rupees for every referral"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center justify-end",children:[e.jsx(c,{size:"sm",className:"bg-primary hover:bg-primary/90",children:"Event-Driven"}),e.jsx(c,{size:"sm",variant:"secondary",children:"Neutral Market"}),e.jsx(c,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:"Bearish"}),e.jsx(c,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:"Bullish"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Select Option Chain"}),e.jsxs("select",{value:r,onChange:a=>x(a.target.value),className:"w-full max-w-xs bg-card border border-border rounded-md px-4 py-2",children:[e.jsx("option",{value:"1",children:"Nifty 50"}),e.jsx("option",{value:"2",children:"BANKNIFTY"}),e.jsx("option",{value:"3",children:"SENSEX"}),e.jsx("option",{value:"4",children:"FINNIFTY"}),e.jsx("option",{value:"5",children:"MIDCPNIFTY"})]})]}),e.jsx("div",{className:"ml-auto",children:e.jsx(D,{type:"date",value:l,onChange:a=>g(a.target.value),className:"bg-card"})})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-card rounded-2xl p-6 shadow-lg",children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:N},className:"mb-6"}),e.jsx("div",{dangerouslySetInnerHTML:{__html:p},className:"min-h-[600px]"})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"bg-card rounded-2xl shadow-lg overflow-hidden sticky top-24",children:e.jsx("div",{className:"max-h-[800px] overflow-y-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"sticky top-0 bg-black text-white z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Call Vega"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Put Vega"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Difference"}),e.jsx("th",{className:"px-4 py-3 text-left",children:"Trend"})]})}),e.jsx("tbody",{dangerouslySetInnerHTML:{__html:u}})]})})})})]})]})}),e.jsx(y,{})]})};export{k as default};
