import{j as e}from"./ui-DF4qBJwL.js";import{r as l}from"./vendor-X0Zsz5kA.js";import{A as w}from"./AuthenticatedNavbar-B23ijhr0.js";import{a as k}from"./Footer-B3JFfJSI.js";import{I as h}from"./input-QZcsRmOs.js";import{B as C}from"./button-CR-0WL9x.js";import{g as d,h as F}from"./index-DuElUvNs.js";const i=l.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:d("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n}));i.displayName="Card";const c=l.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:d("flex flex-col space-y-1.5 p-6",s),...n}));c.displayName="CardHeader";const o=l.forwardRef(({className:s,...n},a)=>e.jsx("h3",{ref:a,className:d("text-2xl font-semibold leading-none tracking-tight",s),...n}));o.displayName="CardTitle";const D=l.forwardRef(({className:s,...n},a)=>e.jsx("p",{ref:a,className:d("text-sm text-muted-foreground",s),...n}));D.displayName="CardDescription";const x=l.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:d("p-6 pt-0",s),...n}));x.displayName="CardContent";const E=l.forwardRef(({className:s,...n},a)=>e.jsx("div",{ref:a,className:d("flex items-center p-6 pt-0",s),...n}));E.displayName="CardFooter";const $=()=>{F();const[s,n]=l.useState("NSE_INDEX|Nifty 50"),[a,g]=l.useState("2025-11-27"),[t,b]=l.useState(null),[j,f]=l.useState(!1),[p,m]=l.useState(""),[N,y]=l.useState(""),v=async()=>{f(!0),m("");try{const r=await fetch(`/api/market/greeks?instrument_key=${s}&expiry_date=${a}&upstox_access_token=${N}`,{headers:{Authorization:`Bearer ${localStorage.getItem("alphaedge_session")}`}});if(!r.ok)throw new Error("Failed to fetch data");const u=await r.json();u.status==="success"?b(u.data):m("API returned error status")}catch(r){m("Error fetching data. Please check your inputs and token."),console.error(r)}finally{f(!1)}};return e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(w,{}),e.jsx("main",{className:"flex-1 py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Market Greeks Analysis"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Instrument Key"}),e.jsx(h,{value:s,onChange:r=>n(r.target.value),placeholder:"e.g. NSE_INDEX|Nifty 50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Expiry Date"}),e.jsx(h,{type:"date",value:a,onChange:r=>g(r.target.value)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Upstox Access Token"}),e.jsx(h,{type:"password",value:N,onChange:r=>y(r.target.value),placeholder:"Enter Upstox Token"})]}),e.jsx("div",{className:"md:col-span-3",children:e.jsx(C,{onClick:v,disabled:j,className:"w-full md:w-auto",children:j?"Loading...":"Analyze Greeks"})})]}),p&&e.jsx("div",{className:"text-red-500 mb-4",children:p}),t&&e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(i,{className:"bg-green-50 border-green-200",children:[e.jsx(c,{children:e.jsx(o,{className:"text-green-700",children:"Call Options"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Delta:"})," ",e.jsx("span",{className:"font-mono",children:t.call.delta.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gamma:"})," ",e.jsx("span",{className:"font-mono",children:t.call.gamma.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Vega:"})," ",e.jsx("span",{className:"font-mono",children:t.call.vega.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Theta:"})," ",e.jsx("span",{className:"font-mono",children:t.call.theta.toFixed(2)})]})]})})]}),e.jsxs(i,{className:"bg-red-50 border-red-200",children:[e.jsx(c,{children:e.jsx(o,{className:"text-red-700",children:"Put Options"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Delta:"})," ",e.jsx("span",{className:"font-mono",children:t.put.delta.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Gamma:"})," ",e.jsx("span",{className:"font-mono",children:t.put.gamma.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Vega:"})," ",e.jsx("span",{className:"font-mono",children:t.put.vega.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Theta:"})," ",e.jsx("span",{className:"font-mono",children:t.put.theta.toFixed(2)})]})]})})]}),e.jsxs(i,{className:"bg-blue-50 border-blue-200",children:[e.jsx(c,{children:e.jsx(o,{className:"text-blue-700",children:"Net Sentiment"})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Net Delta:"})," ",e.jsx("span",{className:`font-mono font-bold ${t.net.delta>0?"text-green-600":"text-red-600"}`,children:t.net.delta.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Net Gamma:"})," ",e.jsx("span",{className:"font-mono",children:t.net.gamma.toFixed(4)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Net Vega:"})," ",e.jsx("span",{className:"font-mono",children:t.net.vega.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Net Theta:"})," ",e.jsx("span",{className:"font-mono",children:t.net.theta.toFixed(2)})]})]})})]})]})]})}),e.jsx(k,{})]})};export{$ as default};
